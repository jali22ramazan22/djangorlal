# ๐ Quick Start: ะขะตััะธัะพะฒะฐะฝะธะต API ั JWT ะฒ Swagger

## ะะฐ 3 ะผะธะฝััั ะดะพ ะฟะพะปะฝะพะณะพ ัะตััะธัะพะฒะฐะฝะธั permissions!

### โก ะจะฐะณ 1: ะะฐะฟัััะธัะต ัะตัะฒะตั

```bash
python manage.py runserver
```

### โก ะจะฐะณ 2: ะัะบัะพะนัะต Swagger UI

ะะตัะตะนะดะธัะต ะฒ ะฑัะฐัะทะตัะต:
```
http://localhost:8000/api/v1/docs/
```

### โก ะจะฐะณ 3: ะะพะปััะธัะต JWT ัะพะบะตะฝ

1. **ะะฐะนะดะธัะต ัะฝะดะฟะพะธะฝั** `POST /api/v1/auth/users/login`
2. **ะะฐะถะผะธัะต** "Try it out"
3. **ะะฒะตะดะธัะต**:
   ```json
   {
     "email": "admin@example.com",
     "password": "admin123"
   }
   ```
4. **ะะฐะถะผะธัะต** "Execute"
5. **ะกะบะพะฟะธััะนัะต** ะทะฝะฐัะตะฝะธะต `access` ะธะท ะพัะฒะตัะฐ

**ะัะธะผะตั ะพัะฒะตัะฐ:**
```json
{
  "id": 1,
  "full_name": "Admin User",
  "email": "admin@example.com",
  "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",  โ ะกะะะะะะฃะะขะ ะญะขะ
  "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

### โก ะจะฐะณ 4: ะะฒัะพัะธะทัะนัะตัั ะฒ Swagger

1. **ะะฐะถะผะธัะต** ะบะฝะพะฟะบั **"Authorize"** ๐ (ะฟัะฐะฒัะน ะฒะตััะฝะธะน ัะณะพะป)
2. **ะััะฐะฒััะต** ัะพะบะตะฝ ะฒ ะฟะพะปะต "Value" (ะะะ ัะปะพะฒะฐ "Bearer")
3. **ะะฐะถะผะธัะต** "Authorize"
4. **ะะฐะถะผะธัะต** "Close"

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ Available authorizations           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                        โ
โ  bearerAuth (http, Bearer)             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ Value:                           โ  โ
โ  โ eyJhbGciOiJIUzI1Ni...           โ  โ  โ ะััะฐะฒััะต ััะดะฐ ัะพะบะตะฝ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                        โ
โ  [Authorize]  [Cancel]                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### โก ะจะฐะณ 5: ะขะตััะธััะนัะต API!

ะขะตะฟะตัั ะฒัะต ะทะฐะฟัะพัั ะฐะฒัะพัะธะทะพะฒะฐะฝั. ะะพะฟัะพะฑัะนัะต:

#### โ ะะพะปะถะฝั ัะฐะฑะพัะฐัั:
- `GET /api/v1/tasks/` - ะะฐัะธ ะทะฐะดะฐัะธ
- `GET /api/v1/projects/` - ะะฐัะธ ะฟัะพะตะบัั
- `POST /api/v1/tasks/` - ะกะพะทะดะฐัั ะทะฐะดะฐัั
- `GET /api/v1/companies/` - ะกะฟะธัะพะบ ะบะพะผะฟะฐะฝะธะน

#### โ ะัะพะฒะตัััะต permissions (403 Forbidden):

1. **ะะพะนะดะธัะต ะบะฐะบ ะพะฑััะฝัะน ะฟะพะปัะทะพะฒะฐัะตะปั:**
   ```json
   {
     "email": "user@test.com",
     "password": "testpass123"
   }
   ```

2. **ะะพะฟัะพะฑัะนัะต ะธะทะผะตะฝะธัั ััะถะพะน ะฟัะพะตะบั:**
   - `PUT /api/v1/projects/1/`
   - **ะะถะธะดะฐะตััั:** 403 Forbidden (ะฒั ะฝะต ะฐะฒัะพั)

3. **ะะพะฟัะพะฑัะนัะต ัะฒะธะดะตัั ััะถะธะต ะทะฐะดะฐัะธ:**
   - `GET /api/v1/tasks/`
   - **ะะตะทัะปััะฐั:** ะขะพะปัะบะพ ะทะฐะดะฐัะธ ะธะท ะฒะฐัะธั ะฟัะพะตะบัะพะฒ

---

## ๐ฏ ะกัะตะฝะฐัะธะธ ัะตััะธัะพะฒะฐะฝะธั permissions

### ะกัะตะฝะฐัะธะน 1: ะัะพัะผะพัั ะทะฐะดะฐั (ัะพะปัะบะพ ัะฒะพะธ ะฟัะพะตะบัั)

```
1. ะะพะนัะธ ะบะฐะบ admin@example.com
2. GET /api/v1/tasks/
   โ ะะธะดะฝั ะทะฐะดะฐัะธ ะธะท ะฟัะพะตะบัะพะฒ, ะณะดะต admin - ััะฐััะฝะธะบ

3. ะะพะนัะธ ะบะฐะบ ะดััะณะพะน ะฟะพะปัะทะพะฒะฐัะตะปั
4. GET /api/v1/tasks/
   โ ะะธะดะฝั ะะะฃะะะ ะทะฐะดะฐัะธ (ัะพะปัะบะพ ะตะณะพ ะฟัะพะตะบัั)
```

**ะัะฒะพะด:** โ ะะฐะถะดัะน ะฒะธะดะธั ัะพะปัะบะพ ะทะฐะดะฐัะธ ัะฒะพะธั ะฟัะพะตะบัะพะฒ

---

### ะกัะตะฝะฐัะธะน 2: ะะทะผะตะฝะตะฝะธะต ะฟัะพะตะบัะฐ (ัะพะปัะบะพ ะฐะฒัะพั)

```
1. ะะพะนัะธ ะบะฐะบ admin@example.com (ะฐะฒัะพั ะฟัะพะตะบัะฐ)
2. PUT /api/v1/projects/1/
   โ 200 OK (ะฐะฒัะพั ะผะพะถะตั ะธะทะผะตะฝััั)

3. ะะพะนัะธ ะบะฐะบ ะพะฑััะฝัะน user (ััะฐััะฝะธะบ, ะฝะพ ะฝะต ะฐะฒัะพั)
4. PUT /api/v1/projects/1/
   โ 403 Forbidden (ัะพะปัะบะพ ะฐะฒัะพั ะผะพะถะตั ะธะทะผะตะฝััั)
```

**ะัะฒะพะด:** โ ะขะพะปัะบะพ ะฐะฒัะพั ะฟัะพะตะบัะฐ ะผะพะถะตั ะตะณะพ ะธะทะผะตะฝััั

---

### ะกัะตะฝะฐัะธะน 3: ะกะพะทะดะฐะฝะธะต ะทะฐะดะฐัะธ (ััะฐััะฝะธะบะธ ะฟัะพะตะบัะฐ)

```
1. ะะพะนัะธ ะบะฐะบ ััะฐััะฝะธะบ ะฟัะพะตะบัะฐ
2. POST /api/v1/projects/1/tasks/create
   โ 201 Created (ััะฐััะฝะธะบะธ ะผะพะณัั ัะพะทะดะฐะฒะฐัั ะทะฐะดะฐัะธ)

3. ะะพะนัะธ ะบะฐะบ ะะ ััะฐััะฝะธะบ ะฟัะพะตะบัะฐ
4. POST /api/v1/projects/1/tasks/create
   โ 403 Forbidden (ะฝัะถะฝะพ ะฑััั ััะฐััะฝะธะบะพะผ)
```

**ะัะฒะพะด:** โ ะฃัะฐััะฝะธะบะธ ะผะพะณัั ัะพะทะดะฐะฒะฐัั ะทะฐะดะฐัะธ ะฒ ัะฒะพะธั ะฟัะพะตะบัะฐั

---

### ะกัะตะฝะฐัะธะน 4: ะะทะผะตะฝะตะฝะธะต ะทะฐะดะฐัะธ (ัะพะปัะบะพ assignee)

```
1. ะะพะนัะธ ะบะฐะบ assignee ะทะฐะดะฐัะธ
2. PATCH /api/v1/tasks/1/
   โ 200 OK (assignee ะผะพะถะตั ะธะทะผะตะฝััั)

3. ะะพะนัะธ ะบะฐะบ ะะ assignee (ะดะฐะถะต ะตัะปะธ ััะฐััะฝะธะบ ะฟัะพะตะบัะฐ)
4. PATCH /api/v1/tasks/1/
   โ 403 Forbidden (ัะพะปัะบะพ assignee ะธะปะธ ะฐะฒัะพั ะฟัะพะตะบัะฐ)
```

**ะัะฒะพะด:** โ ะขะพะปัะบะพ ะฝะฐะทะฝะฐัะตะฝะฝัะต ะฝะฐ ะทะฐะดะฐัั ะผะพะณัั ะตั ะธะทะผะตะฝััั

---

## ๐ง ะะปััะตัะฝะฐัะธะฒะฐ: ะขะตััะธัะพะฒะฐะฝะธะต ัะตัะตะท ัะบัะธะฟั

```bash
./test_jwt_swagger.sh
```

ะญัะพั ัะบัะธะฟั ะฐะฒัะพะผะฐัะธัะตัะบะธ:
- ะะพะปััะฐะตั JWT ัะพะบะตะฝ
- ะขะตััะธััะตั 401 ะฑะตะท ัะพะบะตะฝะฐ
- ะขะตััะธััะตั 200 ั ัะพะบะตะฝะพะผ
- ะะพะบะฐะทัะฒะฐะตั ะบะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั ะฒ Swagger

---

## ๐ ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

ะะพะดัะพะฑะฝะฐั ะธะฝัะพัะผะฐัะธั ะฒ [SWAGGER_JWT_GUIDE.md](./SWAGGER_JWT_GUIDE.md)

---

## โฑ๏ธ ะัะตะผั ะถะธะทะฝะธ ัะพะบะตะฝะพะฒ

- **Access token:** 15 ะผะธะฝัั
- **Refresh token:** 7 ะดะฝะตะน

ะะพะณะดะฐ access ะธััะตััั:
1. ะัะฟะพะปัะทัะนัะต `POST /api/v1/auth/users/refresh`
2. ะะตัะตะดะฐะนัะต refresh token
3. ะะพะปััะธัะต ะฝะพะฒัะน access token
4. ะะฑะฝะพะฒะธัะต ะฐะฒัะพัะธะทะฐัะธั ะฒ Swagger

---

## ๐ ะะพัะพะฒะพ!

ะขะตะฟะตัั ะฒั ะผะพะถะตัะต ะฟะพะปะฝะพัะตะฝะฝะพ ัะตััะธัะพะฒะฐัั API ั ะฟัะฐะฒะธะปัะฝัะผะธ permissions ะฟััะผะพ ะฒ Swagger UI!
